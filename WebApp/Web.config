<?xml version="1.0"?>
<!--
  COPYRIGHT: (c) 2006 by M. David Peterson and Sylvain Hellegouarch
  LICENSE: The code contained in this file is licensed under The MIT License. 
  Please see http://www.opensource.org/licenses/mit-license.php for specific detail.
-->
<configuration>
  <configSections>
    <sectionGroup name="Xameleon.WebApp">
      <section name="xameleon" type="Xameleon.Configuration.AspNetXameleonConfiguration,Xameleon"/>
      <section name="memcached" type="Xameleon.Configuration.AspNetMemcachedConfiguration,Xameleon"/>
      <section name="aws" type="Xameleon.Configuration.AspNetAwsConfiguration,Xameleon"/>
      <section name="bungee" type="Xameleon.Configuration.AspNetBungeeAppConfiguration,Xameleon"/>
    </sectionGroup>
  </configSections>
  <Xameleon.WebApp>
    <xameleon useMemcached="yes" defaultEngine="Saxon">
      <add key="baseTemplate" value="/transform/base.xslt"/>
      <xsltParams>
        <add name="xml.base" select="http://localhost:9999/"/>
        <add name="google.maps.key" select="YOUR.GOOGLE.MAPS.KEY"/>
      </xsltParams>
    </xameleon>
    <aws>
      <awsS3 defaultBucket="YOUR.DEFAULT.BUCKET" defaultKeyPrefix="YOUR.DEFAULT.KEY.PREFIX">
        <add name="foo" key="bar" value="baz" />
      </awsS3>
      <awsKeyCollection externalFile="/path/to/external/key/collection/file.config">
        <add name="aws-one" public-key="YOUR-FIRST-AWS-PUBLIC-KEY" private-key="YOUR-FIRST-AWS-PRIVATE-KEY"/>
        <add name="aws-two" public-key="YOUR-SECOND-AWS-PUBLIC-KEY" private-key="YOUR-SECOND-AWS-PRIVATE-KEY"/>
      </awsKeyCollection>
    </aws>
    <bungee>
      <application defaultAppVersion="YOUR.DEFAULT.APP.ID">
        <add name="YOUR.BUNGEE.APP.NAME" version="YOUR.BUNGEE.APP.VERSION" deployID="YOUR.DEPLOY.ID" deployURL="YOUR.DEPLOY.URL" z="YOUR.Z" elementID="ELEMENT.ID.TO.RENDER.APP.IN" />
      </application>
    </bungee>
    <memcached useCompression="no">
      <poolConfig>
        <add property="placeholder" value="0"/>
      </poolConfig>
      <server>
        <add name="server-one" ip="127.0.0.1" port="11211" />
      </server>
    </memcached>
  </Xameleon.WebApp>
  <appSettings>
    <add key="xsltParam_xml.base" value="http://localhost:9999/"/>
    <add key="baseTemplate" value="/transform/base.xslt"/>
    <add key="useMemcached" value="yes"/>
    <add key="MonoServerDefaultIndexFiles"
        value="service.op,default.omx,index.xml,index.aspx,default.aspx,index.html"/>
  </appSettings>
  <system.web>
    <httpHandlers>
      <add verb="GET,HEAD" path="*.xml" type="System.Web.StaticFileHandler"/>
      <add verb="GET,HEAD" path="*.atom" type="System.Web.StaticFileHandler"/>
      <add verb="GET,HEAD" path="*.omx" type="Xameleon.Transform.AsyncSaxonHttpHandler,Xameleon"/>
      <add verb="GET,HEAD,PUT,POST,DELETE" path="*.op" type="Xameleon.Transform.AsyncSaxonHttpHandler,Xameleon"/>
    </httpHandlers>
    <authentication mode="None"/>
    <customErrors mode="Off"/>
    <compilation debug="true" />
    <httpRuntime executionTimeout="300" />
  </system.web>
  <system.net>
    <connectionManagement>
      <add address="*" maxconnection="20" />
    </connectionManagement>
  </system.net>
</configuration>
